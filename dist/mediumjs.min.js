!function(e){"use strict";function n(){return this.channels={},this}n.prototype.subscribe=function(n,i){if(void 0===n||void 0===i)throw new e.Error("Medium.subscribe(channel, listener): It should receive a channel and listener as paramaters.");return this.channels[n]=this.channels[n]||[],this.channels[n].push(i),this},n.prototype.publish=function(){var n,i,t=Array.prototype.slice.call(arguments,0),r=t.shift(),s=0;if(void 0===r)throw new e.Error("Medium.publish(channel, [arg1], [arg2], [...]): It should receive a channel as paramater.");if(i=this.channels[r],void 0!==i)for(n=i.length,s;n>s;s+=1)i[s].apply(this,t);return this},n.prototype.remove=function(n,i){if(void 0===n)throw new e.Error("Medium.remove(channel, listener): It should receive a channel as paramater.");var t=this.channels[n].length;if(void 0!==i)for(;t;)if(this.channels[n][t-=1]===i){this.channels[n].splice(t,1);break}return(void 0===i||0===this.channels[n].length)&&delete this.channels[n],this},"function"==typeof e.define&&void 0!==e.define.amd?e.define("medium",[],function(){return new n}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=new n:e.medium=new n}(this);